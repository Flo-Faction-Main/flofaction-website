<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insurance Tools - Flo Faction LLC | IUL Calculator, Medicare Finder, Annuity Projector, Annuities, Budget Planning & Financial Tools</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .tool-section { background: white; padding: 30px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; }
        h2 { color: #34495e; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        input, select, button { padding: 10px; margin: 10px 5px; font-size: 16px; border-radius: 4px; border: 1px solid #ddd; }
        button { background: #3498db; color: white; cursor: pointer; font-weight: bold; border: none; }
        button:hover { background: #2980b9; }
        .metric { margin: 15px 0; padding: 15px; background: #ecf0f1; border-radius: 4px; }
        .metric strong { font-size: 24px; color: #27ae60; }
        .disclaimer { font-size: 12px; color: #7f8c8d; font-style: italic; margin-top: 20px; }
        canvas { max-width: 100%; height: 400px; }

                /* Animation keyframes */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(33, 150, 243, 0.5);
            }
            50% {
                box-shadow: 0 0 20px rgba(33, 150, 243, 0.8), 0 0 30px rgba(33, 150, 243, 0.6);
            }
        }
        
        @keyframes countUp {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Enhanced tool sections */
        .tool-section {
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .tool-section:nth-child(1) { animation-delay: 0.1s; }
        .tool-section:nth-child(2) { animation-delay: 0.2s; }
        .tool-section:nth-child(3) { animation-delay: 0.3s; }
        .tool-section:nth-child(4) { animation-delay: 0.4s; }
        
        .tool-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        /* Animated buttons */
        button {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        button:hover::before {
            width: 300px;
            height: 300px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: pulse 1.5s infinite;
        }
        
        button:active {
            transform: translateY(0);
        }
        
        /* Input animations */
        input:focus {
            animation: glow 2s infinite;
            border-color: #2196F3;
        }
        
        /* Results container */
        #iul-result, #medicare-result, #annuity-output, #aca-result {
            animation: slideIn 0.5s ease-out;
        }
        
        /* Progress bar styling */
        .progress-container {
            width: 100%;
            height: 30px;
            background: linear-gradient(to right, #e0e0e0 0%, #f5f5f5 100%);
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #2196F3 0%, #00BCD4 50%, #4CAF50 100%);
            border-radius: 15px;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(33, 150, 243, 0.5);
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .progress-label {
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            color: #2196F3;
            animation: countUp 0.5s ease-out;
        }
        
        /* Metric card styling */
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: fadeInUp 0.6s ease-out;
            transition: transform 0.3s ease;
        }
        
        .metric-card:hover {
            transform: scale(1.05) rotate(1deg);
        }
        
        .metric-value {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
            animation: countUp 0.8s ease-out;
        }
        
        .metric-label {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* Chart container animation */
        canvas {
            animation: fadeInUp 0.8s ease-out;
        }
    </style>
</head>
<body>
    <h1>Flo Faction - Full-Service Financial & Insurance Solutions</h1>
        <p style="text-align: center; color: #7f8c8d; font-size: 18px; max-width: 1000px; margin: 10px auto;">Licensed in Life, Health, Auto, Personal Property, Annuities | Notary Services | Tax Preparation | AI Engineering | Emergency Management | DOD | Homeland Security | FEMA Certified</p><p style="text-align: center; color: #7f8c8d;">Licensed in all 50 states | IUL, Medicare, Annuities, ACA, Group Benefits</p>

    <!-- IUL CALCULATOR -->
    <section id="iul-tool" class="tool-section">
        <div>
            <label>Current Age: <input type="number" id="iul-age" value="35" min="18" max="80"></label>
            <label>Monthly Contribution: <input type="number" id="iul-prem" value="500" min="100"></label>
                            
                <!-- Budget & Coverage Preferences -->
                <label>What's most important to you?
                    <select id="iul-priority">
                        <option value="budget">Stay within my budget</option>
                        <option value="coverage">Maximum coverage/death benefit</option>
                        <option value="cash">Build cash value quickly</option>
                        <option value="balanced">Balanced approach</option>
                    </select>
                </label>
                
                <label>Maximum Monthly Budget: <input type="number" id="iul-max-budget" placeholder="Optional - Enter max you can spend" min="50"></label>
                
                <label>Desired Death Benefit: <input type="number" id="iul-death-benefit" placeholder="Optional - Target coverage amount" min="25000" step="5000"></label>
                
                <label>Do you have existing coverage?
                    <select id="iul-existing">
                        <option value="none">No current coverage</option>
                        <option value="term">Yes - Term life insurance</option>
                        <option value="whole">Yes - Whole life insurance</option>
                        <option value="iul">Yes - IUL policy</option>
                        <option value="other">Yes - Other type</option>
                    </select>
                </label>
                
                <label id="existing-amount-container" style="display:none;">Current Coverage Amount: <input type="number" id="iul-current-coverage" placeholder="Current death benefit" min="0"></label>
                
                <label id="existing-premium-container" style="display:none;">Current Monthly Premium: <input type="number" id="iul-current-premium" placeholder="What you pay now" min="0"></label>
                
                <label>Health Status:
                    <select id="iul-health">
                        <option value="excellent">Excellent health</option>
                        <option value="good">Good health</option>
                        <option value="average">Average health</option>
                        <option value="fair">Fair health (some conditions)</option>
                    </select>
                </label>
                
                <label>Tobacco Use:
                    <select id="iul-tobacco">
                        <option value="no">Non-tobacco user</option>
                        <option value="yes">Tobacco user</option>
                    </select>
                </label>
                
                <label>Primary Goal:
                    <select id="iul-goal">
                        <option value="protection">Family protection</option>
                        <option value="retirement">Retirement income supplement</option>
                        <option value="wealth">Wealth accumulation</option>
                        <option value="estate">Estate planning</option>
                        <option value="business">Business planning</option>
                    </select>
                </label>
            <button id="btn-run-iul">Generate 30-Year Projection</button>
        </div>
        <canvas id="iul-chart"></canvas>
        <div id="iul-summary"></div>
    </section>

    <!-- MEDICARE FINDER -->
    <section id="medicare-tool" class="tool-section">
        <h2>Medicare Plan Finder (Age 65+)</h2>
        <form id="medicare-form">
            <input type="number" name="age" placeholder="Your Age" required min="64" max="100">
            <select name="travels" required>
                <option value="no">I stay local</option>
                <option value="yes">I travel frequently</option>
            </select>
            <select name="doctor_pref" required>
                <option value="any">Any doctor is fine</option>
                <option value="specific">I need specific doctors</option>
            </select>
            <select name="budget" required>
                <option value="high">Coverage is priority</option>
                <option value="low">Budget is priority</option>
            </select>
            <button type="submit">Find My Best Plan</button>
        </form>
        <div id="medicare-result"></div>
    </section>

    <!-- ANNUITY CALCULATOR -->
    <section id="annuity-tool" class="tool-section">
        <h2>Annuity Income Projector</h2>
        <div>
            <label>Lump Sum Investment: <input type="number" id="annuity-principal" value="100000" min="10000"></label>
            <label>Current Age: <input type="number" id="annuity-age" value="60" min="40" max="80"></label>
            <label>Deferral Years: <input type="number" id="annuity-deferral" value="5" min="0" max="20"></label>
            <button id="btn-calc-annuity">Calculate Lifetime Income</button>
        </div>
        <div id="annuity-output"></div>
    </section>

    <!-- ACA CALCULATOR -->
    <section id="aca-tool" class="tool-section">
        <h2>ACA/Major Medical Quote Tool</h2>
        <div>
            <label>Zip Code: <input type="text" id="aca-zip" value="33467" maxlength="5"></label>
            <label>Annual Income: <input type="number" id="aca-income" value="45000" min="0"></label>
            <label>Age: <input type="number" id="aca-age" value="30" min="18" max="64"></label>
            <label>Household Size: <input type="number" id="aca-household" value="1" min="1" max="10"></label>
            <button id="btn-aca-quote">Check Subsidy Eligibility</button>
        </div>
        <div id="aca-result"></div>
    </section>

        <!-- AUTO INSURANCE QUOTE -->
    <section id="auto-tool" class="tool-section">
        <h2>Auto Insurance Quote</h2>
        <form id="auto-form">
            <h3>Driver Information</h3>
            <label>Full Name: <input type="text" id="auto-name" required placeholder="Your full name"></label>
            <label>Email: <input type="email" id="auto-email" required placeholder="your@email.com"></label>
            <label>Phone: <input type="tel" id="auto-phone" required placeholder="(555) 123-4567"></label>
            <label>Zip Code: <input type="text" id="auto-zip" required maxlength="5" placeholder="12345"></label>
            <label>Date of Birth: <input type="date" id="auto-dob" required></label>
            <label>Gender:
                <select id="auto-gender">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </label>
            <label>Marital Status:
                <select id="auto-marital">
                    <option value="single">Single</option>
                    <option value="married">Married</option>
                    <option value="divorced">Divorced</option>
                    <option value="widowed">Widowed</option>
                </select>
            </label>
            
            <h3>Current Coverage</h3>
            <label>Do you currently have auto insurance?
                <select id="auto-current-ins">
                    <option value="yes">Yes</option>
                    <option value="no">No - Need new policy</option>
                    <option value="lapsed">Had coverage but it lapsed</option>
                </select>
            </label>
            <label id="auto-current-carrier-container" style="display:none;">Current Insurance Carrier: <input type="text" id="auto-current-carrier" placeholder="e.g., State Farm, GEICO"></label>
            <label id="auto-current-premium-container" style="display:none;">Current Monthly Premium: <input type="number" id="auto-current-premium" placeholder="Amount you pay now"></label>
            <label id="auto-exp-date-container" style="display:none;">Policy Expiration Date: <input type="date" id="auto-exp-date"></label>
            
            <h3>Vehicle Information</h3>
            <label>Vehicle Year: <input type="number" id="auto-year" required min="1990" max="2026" placeholder="2020"></label>
            <label>Vehicle Make: <input type="text" id="auto-make" required placeholder="Toyota, Ford, Honda, etc."></label>
            <label>Vehicle Model: <input type="text" id="auto-model" required placeholder="Camry, F-150, Civic, etc."></label>
            <label>Vehicle Use:
                <select id="auto-use">
                    <option value="commute">Commute to work</option>
                    <option value="business">Business use</option>
                    <option value="pleasure">Pleasure only</option>
                </select>
            </label>
            <label>Average Annual Miles: <input type="number" id="auto-miles" placeholder="12000" min="0"></label>
            <label>Do you own or lease?
                <select id="auto-ownership">
                    <option value="own">Own (paid off)</option>
                    <option value="financed">Financing</option>
                    <option value="lease">Leasing</option>
                </select>
            </label>
            
            <h3>Coverage Needs</h3>
            <label>What's your priority?
                <select id="auto-priority">
                    <option value="lowest">Lowest price (minimum coverage)</option>
                    <option value="budget">Budget-friendly with decent coverage</option>
                    <option value="balanced">Balanced protection</option>
                    <option value="full">Full coverage (maximum protection)</option>
                </select>
            </label>
            <label>Maximum Monthly Budget: <input type="number" id="auto-max-budget" placeholder="Optional - Max you can spend" min="50"></label>
            <label>Desired Deductible:
                <select id="auto-deductible">
                    <option value="250">$250 (higher premium)</option>
                    <option value="500">$500</option>
                    <option value="1000">$1,000 (lower premium)</option>
                    <option value="2500">$2,500 (lowest premium)</option>
                </select>
            </label>
            
            <h3>Driving History</h3>
            <label>Years of driving experience: <input type="number" id="auto-experience" min="0" max="70" placeholder="10"></label>
            <label>Accidents in last 3 years:
                <select id="auto-accidents">
                    <option value="0">None</option>
                    <option value="1">1 accident</option>
                    <option value="2">2 accidents</option>
                    <option value="3plus">3 or more</option>
                </select>
            </label>
            <label>Tickets/violations in last 3 years:
                <select id="auto-tickets">
                    <option value="0">None</option>
                    <option value="1">1 ticket</option>
                    <option value="2">2 tickets</option>
                    <option value="3plus">3 or more</option>
                </select>
            </label>
            <label>DUI/DWI in last 5 years?
                <select id="auto-dui">
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
            </label>
            
            <h3>Additional Drivers</h3>
            <label>Additional drivers on policy:
                <select id="auto-add-drivers">
                    <option value="0">Just me</option>
                    <option value="1">1 additional driver</option>
                    <option value="2">2 additional drivers</option>
                    <option value="3plus">3+ additional drivers</option>
                </select>
            </label>
            
            <button id="btn-auto-quote">Get My Auto Quote</button>
        </form>
        <div id="auto-result"></div>
    </section>
    
    <!-- HOMEOWNERS INSURANCE QUOTE -->
    <section id="home-tool" class="tool-section">
        <h2>Homeowners Insurance Quote</h2>
        <form id="home-form">
            <h3>Contact Information</h3>
            <label>Full Name: <input type="text" id="home-name" required placeholder="Your full name"></label>
            <label>Email: <input type="email" id="home-email" required placeholder="your@email.com"></label>
            <label>Phone: <input type="tel" id="home-phone" required placeholder="(555) 123-4567"></label>
            
            <h3>Property Information</h3>
            <label>Property Address: <input type="text" id="home-address" required placeholder="123 Main Street"></label>
            <label>City: <input type="text" id="home-city" required placeholder="Your city"></label>
            <label>State: <input type="text" id="home-state" required placeholder="FL"></label>
            <label>Zip Code: <input type="text" id="home-zip" required maxlength="5" placeholder="12345"></label>
            
            <label>Property Type:
                <select id="home-type">
                    <option value="single">Single Family Home</option>
                    <option value="condo">Condo</option>
                    <option value="townhouse">Townhouse</option>
                    <option value="multi">Multi-Family (2-4 units)</option>
                    <option value="mobile">Mobile Home</option>
                </select>
            </label>
            
            <label>Year Built: <input type="number" id="home-year" required min="1800" max="2026" placeholder="1995"></label>
            <label>Square Footage: <input type="number" id="home-sqft" required placeholder="2000" min="100"></label>
            <label>Number of Bedrooms: <input type="number" id="home-bedrooms" min="1" placeholder="3"></label>
            <label>Number of Bathrooms: <input type="number" id="home-bathrooms" min="1" step="0.5" placeholder="2"></label>
            <label>Number of Stories:
                <select id="home-stories">
                    <option value="1">1 Story</option>
                    <option value="2">2 Stories</option>
                    <option value="3plus">3+ Stories</option>
                </select>
            </label>
            
            <h3>Property Details</h3>
            <label>Roof Type:
                <select id="home-roof">
                    <option value="shingle">Asphalt Shingle</option>
                    <option value="metal">Metal</option>
                    <option value="tile">Tile</option>
                    <option value="flat">Flat</option>
                </select>
            </label>
            <label>Roof Age: <input type="number" id="home-roof-age" placeholder="10 years" min="0" max="100"></label>
            <label>Foundation Type:
                <select id="home-foundation">
                    <option value="slab">Slab</option>
                    <option value="crawl">Crawl Space</option>
                    <option value="basement">Basement</option>
                    <option value="pier">Pier & Beam</option>
                </select>
            </label>
            <label>Construction Type:
                <select id="home-construction">
                    <option value="frame">Frame/Wood</option>
                    <option value="brick">Brick</option>
                    <option value="concrete">Concrete Block</option>
                    <option value="stucco">Stucco</option>
                </select>
            </label>
            <label>Heating/Cooling System:
                <select id="home-hvac">
                    <option value="central">Central HVAC</option>
                    <option value="heat-pump">Heat Pump</option>
                    <option value="wall">Wall Units</option>
                    <option value="none">None</option>
                </select>
            </label>
            
            <h3>Safety Features</h3>
            <label><input type="checkbox" id="home-alarm"> Security/Burglar Alarm</label>
            <label><input type="checkbox" id="home-fire"> Fire/Smoke Detectors</label>
            <label><input type="checkbox" id="home-sprinkler"> Fire Sprinkler System</label>
            <label><input type="checkbox" id="home-deadbolt"> Deadbolt Locks</label>
            <label><input type="checkbox" id="home-hurricane"> Hurricane Shutters/Impact Windows</label>
            
            <h3>Ownership & Coverage</h3>
            <label>Do you own or rent this property?
                <select id="home-ownership">
                    <option value="own">Own (with mortgage)</option>
                    <option value="own-paid">Own (paid off)</option>
                    <option value="rent">Rent (need renters insurance)</option>
                </select>
            </label>
            
            <label>Estimated Home Value: <input type="number" id="home-value" required placeholder="250000" min="10000"></label>
            <label>Mortgage/Lender Name (if applicable): <input type="text" id="home-lender" placeholder="Wells Fargo, Chase, etc."></label>
            
            <label>Do you have current homeowners insurance?
                <select id="home-current-ins">
                    <option value="yes">Yes</option>
                    <option value="no">No - Need new policy</option>
                    <option value="shopping">Shopping around for better rates</option>
                </select>
            </label>
            <label id="home-current-carrier-container" style="display:none;">Current Insurance Carrier: <input type="text" id="home-current-carrier" placeholder="e.g., Allstate, Progressive"></label>
            <label id="home-current-premium-container" style="display:none;">Current Annual Premium: <input type="number" id="home-current-premium" placeholder="Amount you pay per year"></label>
            <label id="home-exp-date-container" style="display:none;">Policy Renewal Date: <input type="date" id="home-exp-date"></label>
            
            <h3>Coverage Preferences</h3>
            <label>What's your priority?
                <select id="home-priority">
                    <option value="lowest">Lowest price possible</option>
                    <option value="budget">Budget-conscious with adequate coverage</option>
                    <option value="balanced">Balanced protection</option>
                    <option value="comprehensive">Comprehensive coverage</option>
                    <option value="premium">Premium coverage (best available)</option>
                </select>
            </label>
            <label>Maximum Annual Budget: <input type="number" id="home-max-budget" placeholder="Optional - Max yearly premium" min="100"></label>
            <label>Desired Deductible:
                <select id="home-deductible">
                    <option value="500">$500 (higher premium)</option>
                    <option value="1000">$1,000</option>
                    <option value="2500">$2,500 (lower premium)</option>
                    <option value="5000">$5,000</option>
                    <option value="10000">$10,000 (lowest premium)</option>
                </select>
            </label>
            
            <h3>Claims History</h3>
            <label>Insurance claims in last 5 years:
                <select id="home-claims">
                    <option value="0">No claims</option>
                    <option value="1">1 claim</option>
                    <option value="2">2 claims</option>
                    <option value="3plus">3+ claims</option>
                </select>
            </label>
            
            <button id="btn-home-quote">Get My Homeowners Quote</button>
        </form>
        <div id="home-result"></div>
    </section>

    <script type="module">
        import { IULIllustrator, MedicareFinder, AnnuityCalculator, ACACalculator } from './FloInsuranceModule.js';

        // Initialize IUL Tool
        const iulTool = new IULIllustrator('iul-chart', 'iul-summary');
        document.getElementById('btn-run-iul').addEventListener('click', () => {
            const age = document.getElementById('iul-age').value;
            const prem = document.getElementById('iul-prem').value;
            iulTool.generateIllustration(age, prem);
        });

        // Initialize Medicare Finder
        new MedicareFinder('medicare-form', 'medicare-result');

        // Initialize Annuity Calculator
        const annuityCalc = new AnnuityCalculator('annuity-tool', 'annuity-output');
        document.getElementById('btn-calc-annuity').addEventListener('click', () => {
            annuityCalc.calculate();
        });

        // Initialize ACA Calculator
        const acaCalc = new ACACalculator('aca-result');
        document.getElementById('btn-aca-quote').addEventListener('click', () => {
            const zip = document.getElementById('aca-zip').value;
            const income = document.getElementById('aca-income').value;
            const age = document.getElementById('aca-age').value;
            const household = document.getElementById('aca-household').value;
            acaCalc.getQuote(zip, income, age, household);
        });
    </script>

        // Handle IUL existing coverage visibility
    document.getElementById('iul-existing').addEventListener('change', function() {
        const value = this.value;
        const showFields = value !== 'none';
        document.getElementById('existing-amount-container').style.display = showFields ? 'block' : 'none';
        document.getElementById('existing-premium-container').style.display = showFields ? 'block' : 'none';
    });
    
    // Handle Auto insurance current coverage visibility
    document.getElementById('auto-current-ins').addEventListener('change', function() {
        const value = this.value;
        const showFields = value === 'yes';
        document.getElementById('auto-current-carrier-container').style.display = showFields ? 'block' : 'none';
        document.getElementById('auto-current-premium-container').style.display = showFields ? 'block' : 'none';
        document.getElementById('auto-exp-date-container').style.display = showFields ? 'block' : 'none';
    });
    
    // Handle Homeowners current coverage visibility
    document.getElementById('home-current-ins').addEventListener('change', function() {
        const value = this.value;
        const showFields = value === 'yes' || value === 'shopping';
        document.getElementById('home-current-carrier-container').style.display = showFields ? 'block' : 'none';
        document.getElementById('home-current-premium-container').style.display = showFields ? 'block' : 'none';
        document.getElementById('home-exp-date-container').style.display = showFields ? 'block' : 'none';
    });
    
    // Auto Insurance Quote Handler
    document.getElementById('btn-auto-quote').addEventListener('click', (e) => {
        e.preventDefault();
        
        // Collect all form data
        const formData = {
            type: 'auto_insurance',
            timestamp: new Date().toISOString(),
            contact: {
                name: document.getElementById('auto-name').value,
                email: document.getElementById('auto-email').value,
                phone: document.getElementById('auto-phone').value,
                zip: document.getElementById('auto-zip').value,
                dob: document.getElementById('auto-dob').value,
                gender: document.getElementById('auto-gender').value,
                marital: document.getElementById('auto-marital').value
            },
            current_coverage: {
                has_insurance: document.getElementById('auto-current-ins').value,
                carrier: document.getElementById('auto-current-carrier')?.value || 'N/A',
                monthly_premium: document.getElementById('auto-current-premium')?.value || 'N/A',
                expiration: document.getElementById('auto-exp-date')?.value || 'N/A'
            },
            vehicle: {
                year: document.getElementById('auto-year').value,
                make: document.getElementById('auto-make').value,
                model: document.getElementById('auto-model').value,
                use: document.getElementById('auto-use').value,
                annual_miles: document.getElementById('auto-miles').value,
                ownership: document.getElementById('auto-ownership').value
            },
            coverage_needs: {
                priority: document.getElementById('auto-priority').value,
                max_budget: document.getElementById('auto-max-budget')?.value || 'No limit',
                deductible: document.getElementById('auto-deductible').value
            },
            driving_history: {
                experience_years: document.getElementById('auto-experience').value,
                accidents_3yr: document.getElementById('auto-accidents').value,
                tickets_3yr: document.getElementById('auto-tickets').value,
                dui_5yr: document.getElementById('auto-dui').value
            },
            additional_drivers: document.getElementById('auto-add-drivers').value,
            referral_agent: 'Paul Edwards - Flo Faction LLC',
            referral_email: 'Flo.Factionllc@gmail.com',
            referral_phone: '(772) 208-9646'
        };
        
        // Display confirmation message
        const resultDiv = document.getElementById('auto-result');
        resultDiv.innerHTML = `
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; margin-top: 20px; animation: slideIn 0.5s ease-out;">
                <h3 style="margin-top: 0;">‚úì Auto Insurance Quote Request Received!</h3>
                <p><strong>${formData.contact.name}</strong>, thank you for your interest in auto insurance!</p>
                <p><strong>Paul Edwards</strong> from Flo Faction will personally review your information and contact you within 24 hours with your personalized auto insurance quotes.</p>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; margin: 15px 0;">
                    <p style="margin: 5px 0;"><strong>Your Specialist:</strong> Paul Edwards</p>
                    <p style="margin: 5px 0;"><strong>Contact:</strong> (772) 208-9646</p>
                    <p style="margin: 5px 0;"><strong>Email:</strong> Flo.Factionllc@gmail.com</p>
                </div>
                <p style="font-size: 14px; opacity: 0.9;">We'll compare rates from multiple carriers to find you the best coverage at the best price.</p>
                <p style="font-size: 12px; opacity: 0.8; margin-top: 20px;">Reference ID: AUTO-${Date.now()}</p>
            </div>
        `;
        
        // Send data to backend (you'll need to set up the endpoint)
        console.log('Auto Insurance Lead:', formData);
        
        // TODO: Send email notification to Flo.Factionllc@gmail.com
        // This will require backend integration or email service like EmailJS
        
        // Scroll to result
        resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    });
    
    // Homeowners Insurance Quote Handler
    document.getElementById('btn-home-quote').addEventListener('click', (e) => {
        e.preventDefault();
        
        // Collect all form data
        const formData = {
            type: 'homeowners_insurance',
            timestamp: new Date().toISOString(),
            contact: {
                name: document.getElementById('home-name').value,
                email: document.getElementById('home-email').value,
                phone: document.getElementById('home-phone').value
            },
            property: {
                address: document.getElementById('home-address').value,
                city: document.getElementById('home-city').value,
                state: document.getElementById('home-state').value,
                zip: document.getElementById('home-zip').value,
                type: document.getElementById('home-type').value,
                year_built: document.getElementById('home-year').value,
                sqft: document.getElementById('home-sqft').value,
                bedrooms: document.getElementById('home-bedrooms').value,
                bathrooms: document.getElementById('home-bathrooms').value,
                stories: document.getElementById('home-stories').value
            },
            property_details: {
                roof_type: document.getElementById('home-roof').value,
                roof_age: document.getElementById('home-roof-age').value,
                foundation: document.getElementById('home-foundation').value,
                construction: document.getElementById('home-construction').value,
                hvac: document.getElementById('home-hvac').value
            },
            safety_features: {
                alarm: document.getElementById('home-alarm').checked,
                fire_detectors: document.getElementById('home-fire').checked,
                sprinkler: document.getElementById('home-sprinkler').checked,
                deadbolt: document.getElementById('home-deadbolt').checked,
                hurricane_protection: document.getElementById('home-hurricane').checked
            },
            coverage: {
                ownership: document.getElementById('home-ownership').value,
                estimated_value: document.getElementById('home-value').value,
                lender: document.getElementById('home-lender')?.value || 'N/A',
                has_insurance: document.getElementById('home-current-ins').value,
                current_carrier: document.getElementById('home-current-carrier')?.value || 'N/A',
                current_premium: document.getElementById('home-current-premium')?.value || 'N/A',
                renewal_date: document.getElementById('home-exp-date')?.value || 'N/A',
                priority: document.getElementById('home-priority').value,
                max_budget: document.getElementById('home-max-budget')?.value || 'No limit',
                deductible: document.getElementById('home-deductible').value
            },
            claims_history: document.getElementById('home-claims').value,
            referral_source: 'Flo Faction LLC',
            referral_email: 'Flo.Factionllc@gmail.com',
            referral_phone: '(772) 208-9646'
        };
        
        // Display confirmation message
        const resultDiv = document.getElementById('home-result');
        resultDiv.innerHTML = `
            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 30px; border-radius: 15px; margin-top: 20px; animation: slideIn 0.5s ease-out;">
                <h3 style="margin-top: 0;">‚úì Homeowners Insurance Quote Request Received!</h3>
                <p><strong>${formData.contact.name}</strong>, thank you for requesting a homeowners insurance quote!</p>
                <p>Flo Faction will connect you with one of our trusted partner agencies specializing in homeowners insurance in your area.</p>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; margin: 15px 0;">
                    <p style="margin: 5px 0;"><strong>What's Next:</strong></p>
                    <p style="margin: 5px 0;">1. We'll review your property details</p>
                    <p style="margin: 5px 0;">2. Match you with the best local specialist</p>
                    <p style="margin: 5px 0;">3. They'll contact you within 24-48 hours</p>
                    <p style="margin: 5px 0;">4. Get competitive quotes from multiple carriers</p>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; margin: 15px 0;">
                    <p style="margin: 5px 0;"><strong>Questions? Contact Flo Faction:</strong></p>
                    <p style="margin: 5px 0;"><strong>Phone:</strong> (772) 208-9646</p>
                    <p style="margin: 5px 0;"><strong>Email:</strong> Flo.Factionllc@gmail.com</p>
                </div>
                <p style="font-size: 14px; opacity: 0.9;">Our partner agents will shop multiple carriers to find you comprehensive coverage at competitive rates.</p>
                <p style="font-size: 12px; opacity: 0.8; margin-top: 20px;">Reference ID: HOME-${Date.now()}</p>
            </div>
        `;
        
        // Send data to backend for agent matching and referral tracking
        console.log('Homeowners Insurance Lead:', formData);
        
        // TODO: Send email notification to Flo.Factionllc@gmail.com with lead details
        // This will include all property info for agent matching and referral fee tracking
        
        // Scroll to result
        resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    });

    <!-- ========================================
         RETIREMENT PLANNING & FINANCIAL TOOLS
         ======================================== -->

    <!-- 401k to IRA/Annuity Rollover Calculator with Side-by-Side Comparison -->
    <div id="rollover-tool" class="tool-section" style="animation: fadeInUp 0.6s ease-out;">
        <h2 style="color: #2c3e50; margin-bottom: 20px; font-size: 28px;">üîÑ 401(k) Rollover Comparison Calculator</h2>
        <p style="font-size: 16px; line-height: 1.6; margin-bottom: 30px;">
            Compare your options side-by-side: Keep your 401(k), roll it into a Traditional IRA, or convert to an annuity for guaranteed income. 
            See projections for 5, 10, 15, 20, 30, 40, and 50 years to make the best decision for your retirement.
        </p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üí∞ Current 401(k) Balance</label>
                <input type="number" id="rollover-balance" placeholder="e.g., 250000" style="width: 100%; padding: 12px; border: 2px solid #3498db; border-radius: 8px; font-size: 16px;">
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üéÇ Your Current Age</label>
                <input type="number" id="rollover-age" placeholder="e.g., 55" min="30" max="75" style="width: 100%; padding: 12px; border: 2px solid #3498db; border-radius: 8px; font-size: 16px;">
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üìä Expected Annual Return (%)</label>
                <input type="number" id="rollover-return" placeholder="e.g., 6.5" step="0.1" min="0" max="20" style="width: 100%; padding: 12px; border: 2px solid #3498db; border-radius: 8px; font-size: 16px;">
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Typical range: 5-8% for balanced portfolios</p>
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üéØ Projection Timeline</label>
                <select id="rollover-years" style="width: 100%; padding: 12px; border: 2px solid #3498db; border-radius: 8px; font-size: 16px; background: white;">
                    <option value="5">5 Years</option>
                    <option value="10">10 Years</option>
                    <option value="15">15 Years</option>
                    <option value="20">20 Years</option>
                    <option value="30" selected>30 Years</option>
                    <option value="40">40 Years</option>
                    <option value="50">50 Years</option>
                </select>
            </div>
        </div>
        
        <div style="margin-bottom: 30px;">
            <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üíµ Annual Contribution (Optional)</label>
            <input type="number" id="rollover-contribution" placeholder="e.g., 6500" style="width: 100%; padding: 12px; border: 2px solid #3498db; border-radius: 8px; font-size: 16px;">
            <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">2024 IRA contribution limit: $7,000 ($8,000 if age 50+)</p>
        </div>
        
        <div style="margin-bottom: 30px;">
            <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üîí Annuity Guarantee Rate (%) - For Annuity Option</label>
            <input type="number" id="annuity-rate" placeholder="e.g., 4.5" step="0.1" min="0" max="10" style="width: 100%; padding: 12px; border: 2px solid #3498db; border-radius: 8px; font-size: 16px;">
            <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Fixed indexed annuities typically guarantee 3-5%</p>
        </div>
        
        <button onclick="compareRolloverOptions()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;">
            Compare All Options Side-by-Side üìä
        </button>
        
        <div id="rollover-result" style="margin-top: 30px;"></div>
    </div>

    <!-- Retirement Income Projection Tool -->
    <div id="retirement-income-tool" class="tool-section" style="animation: fadeInUp 0.6s ease-out 0.2s;">
        <h2 style="color: #2c3e50; margin-bottom: 20px; font-size: 28px;">üå¥ Retirement Income Projection Calculator</h2>
        <p style="font-size: 16px; line-height: 1.6; margin-bottom: 30px;">
            Plan your retirement income strategy. See how much monthly income you can generate from your savings, when you should start Social Security, and how life insurance can supplement your retirement.
        </p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üí∞ Total Retirement Savings</label>
                <input type="number" id="retire-savings" placeholder="e.g., 500000" style="width: 100%; padding: 12px; border: 2px solid #e74c3c; border-radius: 8px; font-size: 16px;">
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üéÇ Retirement Age</label>
                <input type="number" id="retire-age" placeholder="e.g., 65" min="55" max="75" value="65" style="width: 100%; padding: 12px; border: 2px solid #e74c3c; border-radius: 8px; font-size: 16px;">
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üìà Expected Annual Return in Retirement (%)</label>
                <input type="number" id="retire-return" placeholder="e.g., 5" step="0.1" value="5" style="width: 100%; padding: 12px; border: 2px solid #e74c3c; border-radius: 8px; font-size: 16px;">
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Conservative: 4-6% in retirement</p>
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üìÖ Years in Retirement (Life Expectancy)</label>
                <select id="retire-duration" style="width: 100%; padding: 12px; border: 2px solid #e74c3c; border-radius: 8px; font-size: 16px; background: white;">
                    <option value="10">10 Years</option>
                    <option value="15">15 Years</option>
                    <option value="20">20 Years</option>
                    <option value="25" selected>25 Years</option>
                    <option value="30">30 Years</option>
                    <option value="35">35 Years</option>
                    <option value="40">40 Years</option>
                </select>
            </div>
        </div>
        
        <div style="margin-bottom: 30px;">
            <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üë• Estimated Monthly Social Security Benefit</label>
            <input type="number" id="ss-benefit" placeholder="e.g., 2500" style="width: 100%; padding: 12px; border: 2px solid #e74c3c; border-radius: 8px; font-size: 16px;">
            <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Visit ssa.gov/myaccount to see your estimated benefits</p>
        </div>
        
        <div style="margin-bottom: 30px;">
            <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üíº Monthly Pension (if applicable)</label>
            <input type="number" id="pension-amount" placeholder="e.g., 1500" style="width: 100%; padding: 12px; border: 2px solid #e74c3c; border-radius: 8px; font-size: 16px;">
        </div>
        
        <div style="margin-bottom: 30px;">
            <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üè° Estimated Monthly Expenses in Retirement</label>
            <input type="number" id="retire-expenses" placeholder="e.g., 5000" style="width: 100%; padding: 12px; border: 2px solid #e74c3c; border-radius: 8px; font-size: 16px;">
        </div>
        
        <div style="background: #ecf0f1; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 20px;">üõ°Ô∏è Life Insurance for Retirement Income Supplement</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e;">IUL Cash Value Available</label>
                    <input type="number" id="iul-cash" placeholder="e.g., 100000" style="width: 100%; padding: 10px; border: 2px solid #16a085; border-radius: 6px;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e;">Monthly Withdrawal from IUL</label>
                    <input type="number" id="iul-withdrawal" placeholder="e.g., 800" style="width: 100%; padding: 10px; border: 2px solid #16a085; border-radius: 6px;">
                </div>
            </div>
            <p style="font-size: 13px; color: #555; margin-top: 10px; line-height: 1.5;">
                <strong>Pro Tip:</strong> Index Universal Life (IUL) policies build tax-free cash value you can access in retirement. This supplements your income while keeping your death benefit intact for your family!
            </p>
        </div>
        
        <button onclick="calculateRetirementIncome()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;">
            Calculate Retirement Income üå¥
        </button>
        
        <div id="retirement-income-result" style="margin-top: 30px;"></div>
    </div>

    <!-- First-Time Homebuyer Savings Calculator -->
    <div id="homebuyer-tool" class="tool-section" style="animation: fadeInUp 0.6s ease-out 0.4s;">
        <h2 style="color: #2c3e50; margin-bottom: 20px; font-size: 28px;">üè° First-Time Homebuyer Savings Calculator</h2>
        <p style="font-size: 16px; line-height: 1.6; margin-bottom: 30px;">
            Saving for your first home? Calculate how much you need, create a savings timeline, and explore down payment assistance programs. 
            See projections for 5, 10, 15, or 20+ years to achieve your homeownership goals.
        </p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üè† Target Home Price</label>
                <input type="number" id="home-price" placeholder="e.g., 350000" style="width: 100%; padding: 12px; border: 2px solid #27ae60; border-radius: 8px; font-size: 16px;">
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üíµ Down Payment Percentage (%)</label>
                <select id="down-payment-pct" style="width: 100%; padding: 12px; border: 2px solid #27ae60; border-radius: 8px; font-size: 16px; background: white;">
                    <option value="3">3% (FHA/Conventional Low)</option>
                    <option value="3.5">3.5% (FHA Minimum)</option>
                    <option value="5">5% (Conventional)</option>
                    <option value="10">10%</option>
                    <option value="15">15%</option>
                    <option value="20" selected>20% (No PMI)</option>
                    <option value="25">25%</option>
                </select>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üìã Estimated Closing Costs</label>
                <input type="number" id="closing-costs" placeholder="Auto-calculated (2-5%)" style="width: 100%; padding: 12px; border: 2px solid #27ae60; border-radius: 8px; font-size: 16px;">
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Typically 2-5% of home price</p>
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üì¶ Current Savings for Down Payment</label>
                <input type="number" id="current-savings" placeholder="e.g., 25000" style="width: 100%; padding: 12px; border: 2px solid #27ae60; border-radius: 8px; font-size: 16px;">
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üí∞ Monthly Savings Amount</label>
                <input type="number" id="monthly-savings" placeholder="e.g., 1500" style="width: 100%; padding: 12px; border: 2px solid #27ae60; border-radius: 8px; font-size: 16px;">
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üìà Savings Account Interest Rate (%)</label>
                <input type="number" id="savings-interest" placeholder="e.g., 4.5" step="0.1" value="4.5" style="width: 100%; padding: 12px; border: 2px solid #27ae60; border-radius: 8px; font-size: 16px;">
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">High-yield savings: 4-5%</p>
            </div>
        </div>
        
        <div style="background: #e8f8f5; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #27ae60; margin-bottom: 15px; font-size: 18px;">‚ú® First-Time Homebuyer Assistance Programs</h3>
            <div style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                <label style="display: flex; align-items: center; font-size: 14px;">
                    <input type="checkbox" id="assistance-dpa" style="margin-right: 10px; width: 18px; height: 18px;">
                    <span>Down Payment Assistance (DPA) - up to $15,000 grant</span>
                </label>
                <label style="display: flex; align-items: center; font-size: 14px;">
                    <input type="checkbox" id="assistance-fha" style="margin-right: 10px; width: 18px; height: 18px;">
                    <span>FHA Loan (3.5% down, lower credit requirements)</span>
                </label>
                <label style="display: flex; align-items: center; font-size: 14px;">
                    <input type="checkbox" id="assistance-va" style="margin-right: 10px; width: 18px; height: 18px;">
                    <span>VA Loan (0% down for veterans)</span>
                </label>
                <label style="display: flex; align-items: center; font-size: 14px;">
                    <input type="checkbox" id="assistance-usda" style="margin-right: 10px; width: 18px; height: 18px;">
                    <span>USDA Loan (0% down for rural properties)</span>
                </label>
            </div>
        </div>
        
        <button onclick="calculateHomebuyerSavings()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #27ae60 0%, #229954 100%); color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;">
            Calculate Homebuying Timeline üè°
        </button>
        
        <div id="homebuyer-result" style="margin-top: 30px;"></div>
    </div>

    <!-- Comprehensive Interest & Debt Management Calculator -->
    <div id="debt-tool" class="tool-section" style="animation: fadeInUp 0.6s ease-out 0.6s;">
        <h2 style="color: #2c3e50; margin-bottom: 20px; font-size: 28px;">üí≥ Debt Payoff & Interest Calculator</h2>
        <p style="font-size: 16px; line-height: 1.6; margin-bottom: 30px;">
            Take control of your debt! Calculate payoff timelines, compare different strategies (snowball vs. avalanche), 
            see how much interest you'll pay, and create a debt-free plan with projections for 5, 10, 15, or 20 years.
        </p>
        
        <div style="background: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin-bottom: 30px; border-radius: 5px;">
            <h3 style="color: #856404; margin-bottom: 10px; font-size: 18px;">üí° Pro Tip: Debt Consolidation</h3>
            <p style="color: #856404; font-size: 14px; line-height: 1.5; margin: 0;">
                Multiple high-interest debts? Consider consolidating with a personal loan (lower rate), balance transfer card (0% intro APR), or home equity loan. Flo Faction can help you explore your options!
            </p>
        </div>
        
        <div style="margin-bottom: 30px;">
            <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 20px;">üí∏ Your Debts</h3>
            <div id="debt-list"></div>
            <button onclick="addDebt()" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 6px; cursor: pointer; margin-top: 15px;">
                + Add Another Debt
            </button>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üíµ Extra Monthly Payment</label>
                <input type="number" id="extra-payment" placeholder="e.g., 500" style="width: 100%; padding: 12px; border: 2px solid #f39c12; border-radius: 8px; font-size: 16px;">
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Apply extra to high-interest debt first</p>
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">‚öì Payoff Strategy</label>
                <select id="payoff-strategy" style="width: 100%; padding: 12px; border: 2px solid #f39c12; border-radius: 8px; font-size: 16px; background: white;">
                    <option value="avalanche">Avalanche (Highest Interest First) üèéÔ∏è</option>
                    <option value="snowball">Snowball (Smallest Balance First) ‚õÑ</option>
                    <option value="hybrid">Hybrid (Balance Both) üîÑ</option>
                </select>
            </div>
        </div>
        
        <div style="background: #ecf0f1; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 18px;">üõ°Ô∏è Life Insurance as Financial Protection</h3>
            <p style="font-size: 14px; line-height: 1.6; margin-bottom: 15px;">
                Did you know? If something happens to you, your family could be responsible for your debts. Life insurance ensures they won't inherit your financial burden.
            </p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e; font-size: 13px;">Total Debt Amount</label>
                    <input type="number" id="life-coverage-debt" placeholder="Auto-calculated" readonly style="width: 100%; padding: 10px; border: 2px solid #95a5a6; border-radius: 6px; background: #e8e8e8;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e; font-size: 13px;">Recommended Coverage</label>
                    <input type="number" id="recommended-coverage" placeholder="Auto-calculated" readonly style="width: 100%; padding: 10px; border: 2px solid #95a5a6; border-radius: 6px; background: #e8e8e8;">
                </div>
            </div>
            <p style="font-size: 12px; color: #555; margin-top: 10px;">
                üí° Typically we recommend 10x your debt + income replacement for full family protection
            </p>
        </div>
        
        <button onclick="calculateDebtPayoff()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;">
            Calculate Debt-Free Date üéâ
        </button>
        
        <div id="debt-result" style="margin-top: 30px;"></div>
    </div>
    
    <script>
        let debtCount = 0;
        
        function addDebt() {
            debtCount++;
            const debtList = document.getElementById('debt-list');
            const debtItem = document.createElement('div');
            debtItem.id = `debt-${debtCount}`;
            debtItem.style.cssText = 'background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 15px; border: 2px solid #dee2e6;';
            debtItem.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h4 style="color: #2c3e50; margin: 0;">Debt #${debtCount}</h4>
                    <button onclick="removeDebt(${debtCount})" style="background: #e74c3c; color: white; border: none; padding: 5px 12px; border-radius: 5px; cursor: pointer; font-size: 12px;">‚úñ Remove</button>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e; font-size: 13px;">Debt Type</label>
                        <select class="debt-type" style="width: 100%; padding: 10px; border: 2px solid #bdc3c7; border-radius: 6px; background: white;">
                            <option value="credit-card">Credit Card</option>
                            <option value="personal-loan">Personal Loan</option>
                            <option value="student-loan">Student Loan</option>
                            <option value="auto-loan">Auto Loan</option>
                            <option value="medical">Medical Bill</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e; font-size: 13px;">Balance ($)</label>
                        <input type="number" class="debt-balance" placeholder="e.g., 5000" style="width: 100%; padding: 10px; border: 2px solid #bdc3c7; border-radius: 6px;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e; font-size: 13px;">Interest Rate (%)</label>
                        <input type="number" class="debt-interest" placeholder="e.g., 18.5" step="0.1" style="width: 100%; padding: 10px; border: 2px solid #bdc3c7; border-radius: 6px;">
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #34495e; font-size: 13px;">Minimum Monthly Payment ($)</label>
                    <input type="number" class="debt-payment" placeholder="e.g., 150" style="width: 100%; padding: 10px; border: 2px solid #bdc3c7; border-radius: 6px;">
                </div>
            `;
            debtList.appendChild(debtItem);
        }
        
        function removeDebt(id) {
            const debtItem = document.getElementById(`debt-${id}`);
            if (debtItem) {
                debtItem.remove();
            }
        }
        
        // Add first debt by default
        if (debtCount === 0) {
            addDebt();
        }
    </script>

    <!-- Social Security Optimization Calculator -->
    <div id="ss-tool" class="tool-section" style="animation: fadeInUp 0.6s ease-out 0.8s;">
        <h2 style="color: #2c3e50; margin-bottom: 20px; font-size: 28px;">üë• Social Security Optimization Calculator</h2>
        <p style="font-size: 16px; line-height: 1.6; margin-bottom: 30px;">
            Should you take Social Security at 62, 67, or 70? Compare your lifetime benefits and see how your decision impacts your retirement income. 
            Factor in longevity, spouse benefits, and tax implications to make the smartest choice.
        </p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üéÇ Your Current Age</label>
                <input type="number" id="ss-age" placeholder="e.g., 60" min="50" max="75" style="width: 100%; padding: 12px; border: 2px solid #9b59b6; border-radius: 8px; font-size: 16px;">
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üí∞ Estimated Monthly Benefit at Full Retirement Age</label>
                <input type="number" id="ss-fra-benefit" placeholder="e.g., 2500" style="width: 100%; padding: 12px; border: 2px solid #9b59b6; border-radius: 8px; font-size: 16px;">
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Check ssa.gov/myaccount for your estimate</p>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üéØ Your Full Retirement Age (FRA)</label>
                <select id="ss-fra" style="width: 100%; padding: 12px; border: 2px solid #9b59b6; border-radius: 8px; font-size: 16px; background: white;">
                    <option value="66">66 (born 1943-1954)</option>
                    <option value="66.167">66 and 2 months (born 1955)</option>
                    <option value="66.333">66 and 4 months (born 1956)</option>
                    <option value="66.5">66 and 6 months (born 1957)</option>
                    <option value="66.667">66 and 8 months (born 1958)</option>
                    <option value="66.833">66 and 10 months (born 1959)</option>
                    <option value="67" selected>67 (born 1960 or later)</option>
                </select>
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e;">üìÖ Life Expectancy (years)</label>
                <select id="ss-life-expectancy" style="width: 100%; padding: 12px; border: 2px solid #9b59b6; border-radius: 8px; font-size: 16px; background: white;">
                    <option value="75">75 years</option>
                    <option value="80">80 years</option>
                    <option value="85" selected>85 years</option>
                    <option value="90">90 years</option>
                    <option value="95">95 years</option>
                    <option value="100">100 years</option>
                </select>
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">Average US life expectancy: ~78-80</p>
            </div>
        </div>
        
        <div style="margin-bottom: 30px;">
            <label style="display: block; margin-bottom: 15px; font-weight: bold; color: #34495e;">üíî Marital Status</label>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                <label style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; cursor: pointer;">
                    <input type="radio" name="ss-marital" value="single" checked style="margin-right: 10px;">
                    <span>Single</span>
                </label>
                <label style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; cursor: pointer;">
                    <input type="radio" name="ss-marital" value="married" style="margin-right: 10px;">
                    <span>Married</span>
                </label>
                <label style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; cursor: pointer;">
                    <input type="radio" name="ss-marital" value="divorced" style="margin-right: 10px;">
                    <span>Divorced</span>
                </label>
            </div>
        </div>
        
        <div id="spouse-section" style="display: none; margin-bottom: 30px;">
            <h3 style="color: #2c3e50; margin-bottom: 15px; font-size: 18px;">üë´ Spouse Information</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e; font-size: 14px;">Spouse's Age</label>
                    <input type="number" id="spouse-age" placeholder="e.g., 58" style="width: 100%; padding: 10px; border: 2px solid #9b59b6; border-radius: 6px;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #34495e; font-size: 14px;">Spouse's Estimated Benefit</label>
                    <input type="number" id="spouse-benefit" placeholder="e.g., 1800" style="width: 100%; padding: 10px; border: 2px solid #9b59b6; border-radius: 6px;">
                </div>
            </div>
        </div>
        
        <div style="background: #f3e5f5; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #7b1fa2; margin-bottom: 15px; font-size: 18px;">üß† Key Considerations</h3>
            <ul style="margin: 0; padding-left: 20px; line-height: 1.8; color: #555;">
                <li><strong>Early at 62:</strong> Reduced benefit by 30% permanently, but collect longer</li>
                <li><strong>Full at 67:</strong> 100% of your calculated benefit</li>
                <li><strong>Delayed to 70:</strong> Benefit increases 8% per year (124% total)</li>
                <li><strong>Break-even:</strong> Typically around age 78-80 for delayed vs. early</li>
                <li><strong>Survivor benefits:</strong> Higher earner should consider delaying</li>
            </ul>
        </div>
        
        <button onclick="optimizeSocialSecurity()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;">
            Compare Claiming Ages üìà
        </button>
        
        <div id="ss-result" style="margin-top: 30px;"></div>
    </div>
    
    <script>
        // Toggle spouse section based on marital status
        document.querySelectorAll('input[name="ss-marital"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const spouseSection = document.getElementById('spouse-section');
                if (this.value === 'married') {
                    spouseSection.style.display = 'block';
                } else {
                    spouseSection.style.display = 'none';
                }
            });
        });

// ==========================================
// RETIREMENT & FINANCIAL PLANNING CALCULATORS
// ==========================================

// 401k Rollover Comparison Calculator
function compareRolloverOptions() {
    const balance = parseFloat(document.getElementById('rollover-balance').value);
    const age = parseInt(document.getElementById('rollover-age').value);
    const returnRate = parseFloat(document.getElementById('rollover-return').value) / 100;
    const years = parseInt(document.getElementById('rollover-years').value);
    const contribution = parseFloat(document.getElementById('rollover-contribution').value) || 0;
    const annuityRate = parseFloat(document.getElementById('annuity-rate').value) / 100;
    
    if (!balance || !age || !returnRate) {
        alert('Please fill in all required fields');
        return;
    }
    
    // Calculate 401k option (keep as-is)
    let fk401Value = balance;
    for (let i = 0; i < years; i++) {
        fk401Value = fk401Value * (1 + returnRate) + contribution;
    }
    
    // Calculate Traditional IRA rollover
    let iraValue = balance;
    for (let i = 0; i < years; i++) {
        iraValue = iraValue * (1 + returnRate) + contribution;
    }
    
    // Calculate Annuity option
    let annuityValue = balance;
    for (let i = 0; i < years; i++) {
        annuityValue = annuityValue * (1 + annuityRate) + contribution;
    }
    
    const resultDiv = document.getElementById('rollover-result');
    resultDiv.innerHTML = `
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; font-size: 24px; text-align: center;">\ud83d\udcc8 Your Options After ${years} Years</h3>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
            <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; border-left: 5px solid #2196f3;">
                <div style="font-size: 14px; color: #555; margin-bottom: 5px;">Keep 401(k)</div>
                <div style="font-size: 28px; font-weight: bold; color: #1976d2;">$${fk401Value.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</div>
                <div style="font-size: 12px; color: #666; margin-top: 10px;">Employer-managed, limited investment options</div>
            </div>
            
            <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; border-left: 5px solid #4caf50;">
                <div style="font-size: 14px; color: #555; margin-bottom: 5px;">Roll to IRA</div>
                <div style="font-size: 28px; font-weight: bold; color: #388e3c;">$${iraValue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</div>
                <div style="font-size: 12px; color: #666; margin-top: 10px;">Full control, unlimited investment choices</div>
            </div>
            
            <div style="background: #f3e5f5; padding: 20px; border-radius: 10px; border-left: 5px solid #9c27b0;">
                <div style="font-size: 14px; color: #555; margin-bottom: 5px;">Convert to Annuity</div>
                <div style="font-size: 28px; font-weight: bold; color: #7b1fa2;">$${annuityValue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</div>
                <div style="font-size: 12px; color: #666; margin-top: 10px;">Guaranteed income, protected from market</div>
            </div>
        </div>
        
        <div style="background: #fff3cd; padding: 20px; border-radius: 10px; border-left: 4px solid #ffc107;">
            <h4 style="color: #856404; margin-top: 0;">\ud83d\udca1 Flo Faction Recommendation</h4>
            <p style="color: #856404; margin: 0; line-height: 1.6;">
                <strong>Best Strategy:</strong> Consider a hybrid approach! Roll a portion to an IRA for growth potential, and convert another portion to an annuity for guaranteed income. This provides both security and upside. Contact us to create your customized retirement plan!
            </p>
        </div>
    `;
    
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// Retirement Income Projection Calculator
function calculateRetirementIncome() {
    const savings = parseFloat(document.getElementById('retire-savings').value);
    const retireAge = parseInt(document.getElementById('retire-age').value);
    const returnRate = parseFloat(document.getElementById('retire-return').value) / 100;
    const duration = parseInt(document.getElementById('retire-duration').value);
    const ssBenefit = parseFloat(document.getElementById('ss-benefit').value) || 0;
    const pension = parseFloat(document.getElementById('pension-amount').value) || 0;
    const expenses = parseFloat(document.getElementById('retire-expenses').value);
    const iulCash = parseFloat(document.getElementById('iul-cash').value) || 0;
    const iulWithdrawal = parseFloat(document.getElementById('iul-withdrawal').value) || 0;
    
    if (!savings || !retireAge || !expenses) {
        alert('Please fill in required fields: Savings, Retirement Age, and Expenses');
        return;
    }
    
    // Calculate monthly withdrawal from savings (4% rule adjusted for duration)
    const annualWithdrawal = savings * 0.04;
    const monthlyWithdrawal = annualWithdrawal / 12;
    
    // Calculate total monthly income
    const totalMonthlyIncome = monthlyWithdrawal + ssBenefit + pension + iulWithdrawal;
    const gap = expenses - totalMonthlyIncome;
    
    // Calculate how long savings will last
    let savingsRemaining = savings;
    let monthsLasted = 0;
    for (let i = 0; i < duration * 12; i++) {
        if (savingsRemaining <= 0) break;
        savingsRemaining = savingsRemaining * (1 + returnRate/12) - monthlyWithdrawal;
        monthsLasted++;
    }
    
    const yearsLasted = Math.floor(monthsLasted / 12);
    
    const resultDiv = document.getElementById('retirement-income-result');
    resultDiv.innerHTML = `
        <div style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; font-size: 24px; text-align: center;">\ud83c\udf34 Your Retirement Income Plan</h3>
        </div>
        
        <div style="background: #ecf0f1; padding: 25px; border-radius: 10px; margin-bottom: 20px;">
            <h4 style="color: #2c3e50; margin-top: 0; font-size: 20px;">Monthly Income Breakdown</h4>
            <div style="display: grid; gap: 12px;">
                <div style="display: flex; justify-content: space-between; padding: 12px; background: white; border-radius: 6px;">
                    <span style="color: #555;">From Retirement Savings (4% rule)</span>
                    <strong style="color: #27ae60;">$${monthlyWithdrawal.toLocaleString('en-US', {minimumFractionDigits: 2})}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 12px; background: white; border-radius: 6px;">
                    <span style="color: #555;">Social Security</span>
                    <strong style="color: #3498db;">$${ssBenefit.toLocaleString('en-US', {minimumFractionDigits: 2})}</strong>
                </div>
                ${pension > 0 ? `
                <div style="display: flex; justify-content: space-between; padding: 12px; background: white; border-radius: 6px;">
                    <span style="color: #555;">Pension</span>
                    <strong style="color: #9b59b6;">$${pension.toLocaleString('en-US', {minimumFractionDigits: 2})}</strong>
                </div>
                ` : ''}
                ${iulWithdrawal > 0 ? `
                <div style="display: flex; justify-content: space-between; padding: 12px; background: white; border-radius: 6px;">
                    <span style="color: #555;">IUL Cash Value Withdrawal</span>
                    <strong style="color: #16a085;">$${iulWithdrawal.toLocaleString('en-US', {minimumFractionDigits: 2})}</strong>
                </div>
                ` : ''}
                <div style="display: flex; justify-content: space-between; padding: 15px; background: #3498db; color: white; border-radius: 6px; font-size: 18px;">
                    <span><strong>Total Monthly Income</strong></span>
                    <strong>$${totalMonthlyIncome.toLocaleString('en-US', {minimumFractionDigits: 2})}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 12px; background: #fff; border-radius: 6px;">
                    <span style="color: #555;">Monthly Expenses</span>
                    <strong style="color: #e74c3c;">-$${expenses.toLocaleString('en-US', {minimumFractionDigits: 2})}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 15px; background: ${gap >= 0 ? '#e74c3c' : '#27ae60'}; color: white; border-radius: 6px; font-size: 18px;">
                    <span><strong>${gap >= 0 ? 'Shortfall' : 'Surplus'}</strong></span>
                    <strong>${gap >= 0 ? '-' : '+'}$${Math.abs(gap).toLocaleString('en-US', {minimumFractionDigits: 2})}</strong>
                </div>
            </div>
        </div>
        
        <div style="background: ${yearsLasted >= duration ? '#d4edda' : '#fff3cd'}; padding: 20px; border-radius: 10px; border-left: 4px solid ${yearsLasted >= duration ? '#28a745' : '#ffc107'};">
            <h4 style="color: ${yearsLasted >= duration ? '#155724' : '#856404'}; margin-top: 0;">\ud83d\udcc5 Savings Longevity</h4>
            <p style="color: ${yearsLasted >= duration ? '#155724' : '#856404'}; margin: 0; font-size: 16px;">
                Your savings will last approximately <strong>${yearsLasted} years</strong> ${yearsLasted >= duration ? '\u2705 This covers your expected retirement!' : '\u26a0\ufe0f You may need additional income sources.'}
            </p>
        </div>
        
        ${gap >= 0 || yearsLasted < duration ? `
        <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; margin-top: 20px;">
            <h4 style="color: #1b5e20; margin-top: 0;">\ud83d\udd27 How to Bridge the Gap</h4>
            <ul style="color: #2e7d32; line-height: 1.8; margin: 0;">
                <li><strong>Part-time work:</strong> Just $${(gap).toLocaleString('en-US', {maximumFractionDigits: 0})}/month covers the shortfall</li>
                <li><strong>Delay Social Security:</strong> Wait until 70 for 24-32% higher benefits</li>
                <li><strong>IUL Policy:</strong> Build tax-free retirement income while protecting your family</li>
                <li><strong>Annuity conversion:</strong> Guarantee lifetime income you can't outlive</li>
                <li><strong>Downsize:</strong> Reduce housing costs and free up home equity</li>
            </ul>
        </div>
        ` : ''}
    `;
    
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// Homebuyer Savings Calculator
function calculateHomebuyerSavings() {
    const homePrice = parseFloat(document.getElementById('home-price').value);
    const downPaymentPct = parseFloat(document.getElementById('down-payment-pct').value) / 100;
    const closingCosts = parseFloat(document.getElementById('closing-costs').value) || (homePrice * 0.03);
    const currentSavings = parseFloat(document.getElementById('current-savings').value) || 0;
    const monthlySavings = parseFloat(document.getElementById('monthly-savings').value);
    const interest = parseFloat(document.getElementById('savings-interest').value) / 100;
    
    if (!homePrice || !monthlySavings) {
        alert('Please enter Home Price and Monthly Savings Amount');
        return;
    }
    
    const downPayment = homePrice * downPaymentPct;
    const totalNeeded = downPayment + closingCosts;
    const stillNeeded = totalNeeded - currentSavings;
    
    // Calculate months to save
    let saved = currentSavings;
    let months = 0;
    while (saved < totalNeeded && months < 600) { // Max 50 years
        saved = saved * (1 + interest/12) + monthlySavings;
        months++;
    }
    
    const years = Math.floor(months / 12);
    const remainingMonths = months % 12;
    
    const resultDiv = document.getElementById('homebuyer-result');
    resultDiv.innerHTML = `
        <div style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%); color: white; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; font-size: 24px; text-align: center;">üè° Your Homebuying Timeline</h3>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
            <div style="background: #e8f8f5; padding: 20px; border-radius: 10px; text-align: center;">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">Target Home Price</div>
                <div style="font-size: 32px; font-weight: bold; color: #27ae60;">$${homePrice.toLocaleString()}</div>
            </div>
            <div style="background: #fff3e0; padding: 20px; border-radius: 10px; text-align: center;">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">Total Cash Needed</div>
                <div style="font-size: 32px; font-weight: bold; color: #f57c00;">$${totalNeeded.toLocaleString('en-US', {maximumFractionDigits: 0})}</div>
            </div>
        </div>
        
        <div style="background: #e3f2fd; padding: 25px; border-radius: 10px; margin-bottom: 20px;">
            <h4 style="color: #1565c0; margin-top: 0;">üí∞ Savings Breakdown</h4>
            <div style="display: grid; gap: 10px;">
                <div style="display: flex; justify-content: space-between;">
                    <span>Down Payment (${(downPaymentPct*100).toFixed(1)}%)</span>
                    <strong>$${downPayment.toLocaleString('en-US', {maximumFractionDigits: 0})}</strong>
                </div>
                <div style="display: flex; justify-content: space-between;">
                    <span>Closing Costs (~3%)</span>
                    <strong>$${closingCosts.toLocaleString('en-US', {maximumFractionDigits: 0})}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; padding-top: 10px; border-top: 2px solid #90caf9;">
                    <span><strong>Total Required</strong></span>
                    <strong style="color: #1565c0; font-size: 18px;">$${totalNeeded.toLocaleString('en-US', {maximumFractionDigits: 0})}</strong>
                </div>
            </div>
        </div>
        
        <div style="background: ${months <= 60 ? '#d4edda' : '#fff3cd'}; padding: 20px; border-radius: 10px; border-left: 4px solid ${months <= 60 ? '#28a745' : '#ffc107'};">
            <h4 style="color: ${months <= 60 ? '#155724' : '#856404'}; margin-top: 0;">‚è∞ Timeline to Buy</h4>
            <p style="color: ${months <= 60 ? '#155724' : '#856404'}; margin: 0; font-size: 20px;">
                At $${monthlySavings.toLocaleString()}/month, you'll have enough in <strong>${years} years and ${remainingMonths} months</strong>
            </p>
            <p style="color: ${months <= 60 ? '#155724' : '#856404'}; margin: 10px 0 0 0; font-size: 14px;">
                You currently have $${currentSavings.toLocaleString()}. You need $${stillNeeded.toLocaleString()} more.
            </p>
        </div>
        
        <div style="background: #f3e5f5; padding: 20px; border-radius: 10px; margin-top: 20px;">
            <h4 style="color: #7b1fa2; margin-top: 0;">üöÄ Ways to Buy Faster</h4>
            <ul style="color: #6a1b9a; line-height: 1.8; margin: 0;">
                <li>Increase monthly savings by $${(monthlySavings * 0.5).toLocaleString('en-US', {maximumFractionDigits: 0})} ‚Üí Buy in ${Math.floor((months * 0.67) / 12)} years</li>
                <li>Use FHA loan (3.5% down) ‚Üí Save $${((downPayment - homePrice * 0.035)).toLocaleString('en-US', {maximumFractionDigits: 0})}</li>
                <li>Down Payment Assistance programs ‚Üí Get up to $15,000 grant</li>
                <li>Seller concessions ‚Üí Save on closing costs</li>
            </ul>
        </div>
    `;
    
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// Debt Payoff Calculator
function calculateDebtPayoff() {
    const debtItems = document.querySelectorAll('#debt-list > div');
    if (debtItems.length === 0) {
        alert('Please add at least one debt');
        return;
    }
    
    const debts = [];
    let totalDebt = 0;
    let totalMinPayment = 0;
    
    debtItems.forEach(item => {
        const balance = parseFloat(item.querySelector('.debt-balance').value) || 0;
        const interest = parseFloat(item.querySelector('.debt-interest').value) || 0;
        const payment = parseFloat(item.querySelector('.debt-payment').value) || 0;
        const type = item.querySelector('.debt-type').value;
        
        if (balance > 0) {
            debts.push({ balance, interest: interest/100/12, payment, type });
            totalDebt += balance;
            totalMinPayment += payment;
        }
    });
    
    if (debts.length === 0) {
        alert('Please enter valid debt information');
        return;
    }
    
    const extraPayment = parseFloat(document.getElementById('extra-payment').value) || 0;
    const strategy = document.getElementById('payoff-strategy').value;
    
    // Sort debts by strategy
    if (strategy === 'avalanche') {
        debts.sort((a, b) => b.interest - a.interest);
    } else if (strategy === 'snowball') {
        debts.sort((a, b) => a.balance - b.balance);
    }
    
    // Calculate payoff timeline
    let months = 0;
    let totalInterestPaid = 0;
    let debtsCopy = JSON.parse(JSON.stringify(debts));
    
    while (debtsCopy.some(d => d.balance > 0) && months < 600) {
        months++;
        let extraAvailable = extraPayment;
        
        debtsCopy.forEach((debt, idx) => {
            if (debt.balance > 0) {
                const interestCharge = debt.balance * debt.interest;
                totalInterestPaid += interestCharge;
                
                let paymentAmount = debt.payment;
                if (idx === 0) paymentAmount += extraAvailable;
                
                debt.balance = debt.balance + interestCharge - paymentAmount;
                
                if (debt.balance <= 0) {
                    extraAvailable += debt.payment;
                    debt.balance = 0;
                }
            }
        });
    }
    
    const years = Math.floor(months / 12);
    const remainingMonths = months % 12;
    
    // Update life insurance recommendation
    document.getElementById('life-coverage-debt').value = totalDebt.toLocaleString('en-US', {maximumFractionDigits: 0});
    document.getElementById('recommended-coverage').value = (totalDebt * 10).toLocaleString('en-US', {maximumFractionDigits: 0});
    
    const resultDiv = document.getElementById('debt-result');
    resultDiv.innerHTML = `
        <div style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); color: white; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; font-size: 24px; text-align: center;">üéâ Your Debt-Free Plan</h3>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px;">
            <div style="background: #ffebee; padding: 20px; border-radius: 10px; text-align: center;">
                <div style="font-size: 13px; color: #666; margin-bottom: 5px;">Total Debt</div>
                <div style="font-size: 26px; font-weight: bold; color: #c62828;">$${totalDebt.toLocaleString()}</div>
            </div>
            <div style="background: #fff3e0; padding: 20px; border-radius: 10px; text-align: center;">
                <div style="font-size: 13px; color: #666; margin-bottom: 5px;">Interest Paid</div>
                <div style="font-size: 26px; font-weight: bold; color: #ef6c00;">$${totalInterestPaid.toLocaleString('en-US', {maximumFractionDigits: 0})}</div>
            </div>
            <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; text-align: center;">
                <div style="font-size: 13px; color: #666; margin-bottom: 5px;">Debt-Free Date</div>
                <div style="font-size: 20px; font-weight: bold; color: #2e7d32;">${years}y ${remainingMonths}m</div>
            </div>
        </div>
        
        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h4 style="color: #1565c0; margin-top: 0;">üí™ Monthly Payment Plan</h4>
            <div style="display: grid; gap: 10px;">
                <div style="display: flex; justify-content: space-between;">
                    <span>Minimum Payments</span>
                    <strong>$${totalMinPayment.toLocaleString('en-US', {maximumFractionDigits: 0})}</strong>
                </div>
                <div style="display: flex; justify-content: space-between;">
                    <span>Extra Payment (${strategy})</span>
                    <strong>$${extraPayment.toLocaleString('en-US', {maximumFractionDigits: 0})}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; padding-top: 10px; border-top: 2px solid #90caf9;">
                    <span><strong>Total Monthly</strong></span>
                    <strong style="color: #1565c0; font-size: 18px;">$${(totalMinPayment + extraPayment).toLocaleString('en-US', {maximumFractionDigits: 0})}</strong>
                </div>
            </div>
        </div>
        
        <div style="background: #fff9c4; padding: 20px; border-radius: 10px;">
            <h4 style="color: #f57f17; margin-top: 0;">üí° Accelerate Your Payoff</h4>
            <ul style="color: #f57f17; line-height: 1.8; margin: 0;">
                <li>Add $${Math.ceil(extraPayment * 0.5)} more/month ‚Üí Save ${Math.floor(months * 0.15)} months</li>
                <li>Balance transfer to 0% APR card ‚Üí Save interest during promo period</li>
                <li>Debt consolidation loan ‚Üí Lower rate, single payment</li>
                <li>Sell unused items ‚Üí Apply lump sum to highest interest debt</li>
            </ul>
        </div>
    `;
    
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// Social Security Optimization Calculator
function optimizeSocialSecurity() {
    const currentAge = parseInt(document.getElementById('ss-age').value);
    const fraBenefit = parseFloat(document.getElementById('ss-fra-benefit').value);
    const fra = parseFloat(document.getElementById('ss-fra').value);
    const lifeExpectancy = parseInt(document.getElementById('ss-life-expectancy').value);
    const maritalStatus = document.querySelector('input[name="ss-marital"]:checked').value;
    
    if (!currentAge || !fraBenefit) {
        alert('Please enter your current age and estimated benefit at FRA');
        return;
    }
    
    // Calculate benefits at different claiming ages
    const earlyBenefit = fraBenefit * 0.70; // 62 = 30% reduction
    const fullBenefit = fraBenefit; // FRA = 100%
    const delayedBenefit = fraBenefit * 1.24; // 70 = 24% increase
    
    // Calculate lifetime benefits
    const earlyLifetime = earlyBenefit * 12 * (lifeExpectancy - 62);
    const fullLifetime = fullBenefit * 12 * (lifeExpectancy - fra);
    const delayedLifetime = delayedBenefit * 12 * (lifeExpectancy - 70);
    
    // Find optimal choice
    const options = [
        {age: 62, benefit: earlyBenefit, lifetime: earlyLifetime, label: 'Early (62)'},
        {age: fra, benefit: fullBenefit, lifetime: fullLifetime, label: `Full (${fra})`},
        {age: 70, benefit: delayedBenefit, lifetime: delayedLifetime, label: 'Delayed (70)'}
    ];
    
    options.sort((a, b) => b.lifetime - a.lifetime);
    const bestOption = options[0];
    
    const resultDiv = document.getElementById('ss-result');
    resultDiv.innerHTML = `
        <div style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); color: white; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; font-size: 24px; text-align: center;">üìä Social Security Comparison</h3>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 25px;">
            <div style="background: #ffebee; padding: 20px; border-radius: 10px; text-align: center; ${bestOption.age === 62 ? 'border: 3px solid #4caf50;' : ''}">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">üìÖ Claim at 62 (Early)</div>
                <div style="font-size: 28px; font-weight: bold; color: #c62828; margin-bottom: 10px;">$${earlyBenefit.toLocaleString('en-US', {maximumFractionDigits: 0})}/mo</div>
                <div style="font-size: 12px; color: #666; margin-bottom: 5px;">Lifetime Total:</div>
                <div style="font-size: 20px; font-weight: bold; color: #d32f2f;">$${earlyLifetime.toLocaleString('en-US', {maximumFractionDigits: 0})}</div>
                ${bestOption.age === 62 ? '<div style="background: #4caf50; color: white; padding: 5px; border-radius: 5px; margin-top: 10px; font-size: 12px; font-weight: bold;">‚úÖ BEST CHOICE</div>' : ''}
            </div>
            
            <div style="background: #fff3e0; padding: 20px; border-radius: 10px; text-align: center; ${bestOption.age === fra ? 'border: 3px solid #4caf50;' : ''}">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">üéØ Claim at ${fra} (Full)</div>
                <div style="font-size: 28px; font-weight: bold; color: #ef6c00; margin-bottom: 10px;">$${fullBenefit.toLocaleString('en-US', {maximumFractionDigits: 0})}/mo</div>
                <div style="font-size: 12px; color: #666; margin-bottom: 5px;">Lifetime Total:</div>
                <div style="font-size: 20px; font-weight: bold; color: #f57c00;">$${fullLifetime.toLocaleString('en-US', {maximumFractionDigits: 0})}</div>
                ${bestOption.age === fra ? '<div style="background: #4caf50; color: white; padding: 5px; border-radius: 5px; margin-top: 10px; font-size: 12px; font-weight: bold;">‚úÖ BEST CHOICE</div>' : ''}
            </div>
            
            <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; text-align: center; ${bestOption.age === 70 ? 'border: 3px solid #4caf50;' : ''}">
                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">‚è≥ Delay to 70</div>
                <div style="font-size: 28px; font-weight: bold; color: #2e7d32; margin-bottom: 10px;">$${delayedBenefit.toLocaleString('en-US', {maximumFractionDigits: 0})}/mo</div>
                <div style="font-size: 12px; color: #666; margin-bottom: 5px;">Lifetime Total:</div>
                <div style="font-size: 20px; font-weight: bold; color: #388e3c;">$${delayedLifetime.toLocaleString('en-US', {maximumFractionDigits: 0})}</div>
                ${bestOption.age === 70 ? '<div style="background: #4caf50; color: white; padding: 5px; border-radius: 5px; margin-top: 10px; font-size: 12px; font-weight: bold;">‚úÖ BEST CHOICE</div>' : ''}
            </div>
        </div>
        
        <div style="background: #f3e5f5; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h4 style="color: #7b1fa2; margin-top: 0;">üí° Your Personalized Recommendation</h4>
            <p style="color: #6a1b9a; margin: 0; line-height: 1.7; font-size: 15px;">
                Based on a life expectancy of ${lifeExpectancy}, claiming at <strong>${bestOption.label}</strong> maximizes your lifetime benefits by $${(bestOption.lifetime - options[options.length-1].lifetime).toLocaleString('en-US', {maximumFractionDigits: 0})} compared to the worst option.
                ${maritalStatus === 'married' ? '<br><br><strong>Married couples:</strong> Consider having the higher earner delay to 70 to maximize survivor benefits!' : ''}
            </p>
        </div>
        
        <div style="background: #e1f5fe; padding: 20px; border-radius: 10px;">
            <h4 style="color: #0277bd; margin-top: 0;">‚ö†Ô∏è Important Factors to Consider</h4>
            <ul style="color: #01579b; line-height: 1.8; margin: 0;">
                <li><strong>Health:</strong> Poor health? Take early. Excellent health? Delay pays off</li>
                <li><strong>Other income:</strong> Have enough to live on? Delay for higher benefit</li>
                <li><strong>Longevity:</strong> Family history of long life favors delaying</li>
                <li><strong>Spouse benefits:</strong> Coordinate with your spouse's claiming strategy</li>
                <li><strong>Working:</strong> If still working, benefits may be reduced if claimed early</li>
            </ul>
        </div>
    `;
    
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}
    </script>

    <footer style="text-align: center; padding: 40px; color: #7f8c8d;">
        <p><strong>Flo Faction LLC</strong> | Licensed in All 50 States | Licensed in Life & Health Insurance</p>
        <p>Email: Flo Factionllc@gmail.com | Phone: (772) 208-9646</p>
        <p class="disclaimer">*All projections are hypothetical and not guaranteed. These tools are for educational purposes. Contact us for official illustrations and quotes.</p>
    </footer>
</body>
</html>
